<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Engine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Engine </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >The game engine is a set of tools that will help the developer building the game. It include rendering, physics, networking and more. For our game engine we chose an ECS architecture.</p>
<p ><a href="https://www.figma.com/proto/A6qFHzmXXAxgLdoDGjyb1I/RTYPE-Systems?node-id=18%3A436&amp;scaling=min-zoom&amp;page-id=0%3A1&amp;starting-point-node-id=18%3A436">Overview of our game engine</a></p>
<h1><a class="anchor" id="autotoc_md12"></a>
Game Core</h1>
<p >Our game core is composed of 3 main functions :</p><ul>
<li>init, calling all initializer of an IGame. <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Engine/GameCore.cpp">Init function</a></li>
<li>run, gameloop with endCondition of an IGame and its gameloop content. <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Engine/GameCore.cpp">Gameloop function</a></li>
<li>setGame, used to an IGame representing a game</li>
</ul>
<p >To use the game core you must setGame then init, then run. </p><div class="fragment"><div class="line"> {c++}</div>
<div class="line">Engine::GameCore game;  </div>
<div class="line">game.setGame&lt;EngineServer::ServerGame&gt;(new EngineNetwork::ServerUDP(port));  </div>
<div class="line">game.init();  </div>
<div class="line">game.run();</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md13"></a>
Game interface</h2>
<p >The game interface will represent what your game should looks. <br  />
 It must contains these functions :</p><ul>
<li>void gameLoop() , what inside the gameloop</li>
<li>bool endCondition() , how the gameloop end</li>
<li>void initGame() , init game datas</li>
<li>void initNetwork() , init network</li>
<li>void initNetworkSend() , init network send pole</li>
<li>void initNetworkRead() , init network read pole</li>
<li>void stop(); , stop the game <br  />
 Your Game must also contain a constructor taking an INetwork as parameter and stocking it inside your class for your network to work. <br  />
 <blockquote class="doxtable">
<p >&zwj;ServerGame(EngineNetwork::INetworkUDP *server); </p>
</blockquote>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md14"></a>
ECS</h1>
<p ><a href="https://en.wikipedia.org/wiki/Entity_component_system">What's an ECS ?</a> </p>
<h2><a class="anchor" id="autotoc_md15"></a>
Registry</h2>
<p >The registry is an array of vectors containing components. <br  />
 A component is simply a structure containing multiple data </p><div class="fragment"><div class="line">{c++}</div>
<div class="line">ComponentPosition {</div>
<div class="line">    int x;</div>
<div class="line">    int y;</div>
<div class="line">}</div>
</div><!-- fragment --><p> Each line of the array represent a vector of a single component, and each row represent at an index what there is. <img src="https://i.gyazo.com/fc104297634f3fee33aaa0880dbc38c7.png" alt="Registry" class="inline"/> <br  />
 To use a component you must register your component first, and then you can add or destroy the component at an index. The index can be generated by the registry or you can set it yourself. </p><div class="fragment"><div class="line"> {c++}</div>
<div class="line">ComponentPosition position = 123;  </div>
<div class="line">_register.registerComponents&lt; ComponentPosition &gt;();  </div>
<div class="line">index = _register.spawnEntity();  </div>
<div class="line">_register.addComponents(index, position)();</div>
</div><!-- fragment --><p> You can also use the [Singleton class] to set some components outside of the registry. <br  />
 You would want to use it for example if you need to register a mouseState, you don't want to walk through the whole array to find a special entity with a component mouseState, you can then add it to the singleton so you don't need to search it through the array. <br  />
</p>
<p >To use it set your singletons (you can directly set it with a value or let it create default value for you) with an unique ID to your singleton </p><div class="fragment"><div class="line"> {c++}</div>
<div class="line">singletons.setSingleton&lt;MouseState&gt;(1); // setting a mouse state singleton</div>
<div class="line"> // or</div>
<div class="line">MouseState state = true;</div>
<div class="line">singletons.setSingleton&lt;MouseState&gt;(1, state); // setting a mouse singleton with a value already</div>
<div class="line"> </div>
<div class="line">// You can then get your singleton through your unique ID</div>
<div class="line">MouseState &amp;state = singletons.getSingleton&lt;MouseState&gt;(1); // don&#39;t forget to put the &amp; so you can modify its value</div>
<div class="line">state = true; // will change the value of the singleton</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md16"></a>
Entity</h2>
<p >An Entity is an index represented by multiple components. For example a projectile will have a Texture, a Position, a Direction. <br  />
 In our game engine, an entity is set by the <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Engine/Entity/IEntity.hpp">IEntity</a> interface. It's used to add entities from a JSON or CSV file. <br  />
</p>
<p >Here an example of how we init a missile : <br  />
</p><ul>
<li><a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Initialization/Entity/Missile.json">Missile JSON</a> <br  />
</li>
<li><a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/src/Entity/Missile.cpp">Missile cpp</a> <br  />
</li>
</ul>
<p >To ease your parsing you can use the <a href="https://github.com/open-source-parsers/jsoncpp">jsoncpp library</a> (you can fetch the package via Cmake with our <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Libs/JSONcpp/Findjsoncpp.cmake">FindJSONcpp</a>) or our <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Engine/Utils/CSV.hpp">CSV class</a>. <br  />
</p>
<p >We also have an <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Engine/Entity/EntityCache.hpp">EntityCache</a> used to cache the parsed file so you don't parse a whole file :</p><ul>
<li>cacheEntity , function to cache the entity given</li>
<li>addEntityFromJSON , function to add entity from a json file (set by your entity or you can set a new file)</li>
<li>addEntitesFromCSV , function to add all entities from a CSV file (set by your entity or you can set a new file) <br  />
 <div class="fragment"><div class="line"> {c++}</div>
<div class="line">EntityCache.cacheEntity&lt; Entity::Player &gt;(enum Init::IPLAYER, &quot;Player.csv&quot;);  </div>
<div class="line">EntityCache.addEntitiesFromCSV(_register, enum Init::IPLAYER);</div>
</div><!-- fragment --> </li>
</ul>
<h2><a class="anchor" id="autotoc_md17"></a>
System</h2>
<p >A system is a function which will use the register and some singletons to do its things. </p><div class="fragment"><div class="line">{c++}</div>
<div class="line">System(Registry &amp;register, EngineComponent::Singletons &amp;singletons)</div>
</div><!-- fragment --><p> For example a <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Server/Systems/Physique/Movement.cpp">move System</a> will check if an entity have a Position, Veloctiy and Collision components and then move the entity according to the collision. <br  />
</p>
<p >In our engine a single bunch of systems is presented as an <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Engine/Systems/ISystem.hpp">ISystem</a> which will be runnable to call all its systems. <br  />
 For example a <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Server/Systems/Physique/PhysiqueSystems.hpp">Physique System</a> will call all its <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Server/Systems/Physique/PhysiqueSystems.cpp">physique related systems</a>. <br  />
</p>
<p >And then there is the <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Engine/Systems/ESystems.hpp">Systems class</a> which will <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Engine/Systems/ESystems.cpp">run all the bunch of systems</a> each represented by an index of its type. To use it you need to set a system and then you will be able to run it. </p><div class="fragment"><div class="line"> {c++}</div>
<div class="line">// Setting systems</div>
<div class="line">_systems.setSystem&lt; System::Rendering &gt;(1);  </div>
<div class="line">_systems.setSystem&lt;System::Physique &gt;(2);  </div>
<div class="line">_systems.setSystem&lt; System::Network &gt;(3);  </div>
<div class="line"> </div>
<div class="line">// You can then use them</div>
<div class="line">_systems.runSystem(_register, _singletons, 1);  </div>
<div class="line">_systems.runSystem(_register, _singletons, 2);  </div>
<div class="line">_systems.runSystem(_register, _singletons, 3);  </div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md18"></a>
Networking</h1>
<p >okok </p>
<h2><a class="anchor" id="autotoc_md19"></a>
Utils for networking</h2>
<p >You can <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/Engine/Network/NetworkUtils/UDPSerialization.hpp">serialize</a> your datas to send or read. It can serialize only some <a href="https://github.com/EpitechPromo2025/B-CPP-500-PAR-5-1-rtype-pierre-alexandre.delgado-arevalo/blob/main/src/DataStructure/UDPDataStructure.hpp">simple data structures</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
